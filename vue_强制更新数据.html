<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="app">
    <ul>
      <li v-for='item in arr'>{{item}}</li>
    </ul>
    <p>{{obj.name}}{{obj.age}}</p>
    <button @click='change'>change</button>
  </div>

</body>
<script src="./js/vue.js"></script>
<script>
  let vm = new Vue({
    el: '#app',
    data: {
      arr: [1, 2, 3],
      obj: {
        name: '饶麒'
      }

    },
    methods: {
      change() {

        //------------------------------强制更新，更新对象或数组中的一部分内容
        // 方法一
        // this.arr[0] = 100; //这种情况下，vue不会更新数据
        // this.arr.length = 0;//一些操作不会与视图同步
        // this.$forceUpdate() //调用强制更新方法

        // 方法二
        // $set 有三个参数，1.需要操作的数据  2.数据的key  3.数据需要变化的值
        // this.$set(this.arr,0,100);

        // 方法三
        // Vue.set(this.arr,0,100);

        //------------------------------及时更新对象
        // this.obj.age = 38;
        // this.$forceUpdate()

        // this.$set(this.obj,'age',38)
        //---------------------------------移除对象
        // delete this.obj.name
        // console.log(this.obj)
        // this.$forceUpdate()

        this.$delete(this.obj, 'name')

        //----------------注意：如果强制更新失败，重新给对象赋值，一定就更新数据，但是性能会不好


      }
    },

  })
</script>

</html>